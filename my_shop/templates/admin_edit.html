<!doctype html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Product - ฟิน Shop</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{--bg-cream:#fff6f5;--card-cream:#fff9f8;--accent-pink:#ffb6c1;--text-brown:#6b4f45;--shadow-soft:0 10px 24px rgba(107,79,69,0.06)}
    body{font-family:'Quicksand',sans-serif;background:linear-gradient(180deg,var(--bg-cream),#fff);color:var(--text-brown)}
    .card{background:var(--card-cream);border:0;border-radius:12px;box-shadow:var(--shadow-soft)}
    .btn-primary{background:var(--accent-pink);border-color:var(--accent-pink);color:#fff}
    .btn-primary:hover{background:#ff98ad}
  </style>
</head>
<body>
  <main class="container py-4" style="max-width:760px;">
    <div class="card">
      <div class="card-body">
        <h1 class="h4 mb-3">แก้ไขสินค้า #{{ product.id }}</h1>
        {% with messages = get_flashed_messages() %}
          {% if messages %}<div class="alert alert-warning">{{ messages[-1] }}</div>{% endif %}
        {% endwith %}
        <form method="post">
          <div class="mb-3"><label class="form-label">ชื่อสินค้า</label><input class="form-control" name="name" value="{{ product.name }}" required></div>
          <div class="mb-3"><label class="form-label">ราคา</label><input class="form-control" type="number" step="0.01" min="0" name="price" value="{{ product.price }}" required></div>
          <div class="mb-3"><label class="form-label">ลิงก์รูป</label><input class="form-control" name="image_url" value="{{ product.image_url }}"></div>
          <div class="mb-3"><label class="form-label">รายละเอียด</label><textarea class="form-control" rows="3" name="description">{{ product.description }}</textarea></div>
          <div class="mb-3"><label class="form-label">Category</label>
            <select class="form-select" name="category">
              <option value="Watch" {% if product.category == 'Watch' %}selected{% endif %}>Watch</option>
              <option value="Electronics" {% if product.category == 'Electronics' %}selected{% endif %}>Electronics</option>
              <option value="Fashion" {% if product.category == 'Fashion' %}selected{% endif %}>Fashion</option>
            </select>
          </div>
          <div class="mb-3"><label class="form-label">Rating</label><input class="form-control" type="number" step="0.1" min="0" max="5" name="rating" value="{{ product.rating }}"></div>
          <div class="mb-3"><label class="form-label">Review</label><textarea class="form-control" name="review_text">{{ product.review_text }}</textarea></div>
          <div class="form-check mb-2"><input class="form-check-input" type="checkbox" name="is_new" id="is_new" {% if product.is_new %}checked{% endif %}><label for="is_new" class="form-check-label">New</label></div>
          <div class="form-check mb-3"><input class="form-check-input" type="checkbox" name="is_sale" id="is_sale" {% if product.is_sale %}checked{% endif %}><label for="is_sale" class="form-check-label">Sale</label></div>
          <div class="d-flex gap-2">
            <button class="btn btn-primary" type="submit">บันทึก</button>
            <a class="btn btn-outline-secondary" href="{{ url_for('admin') }}">ยกเลิก</a>
          </div>
        </form>
      </div>
    </div>
  </main>
</body>
</html>
